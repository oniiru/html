steal("jquery/class",function($){$.Class("CE.Tools",{myThis:null},{removeBlockBtn:$("<div />",{"class":"motopress-remove-block-btn motopress-default motopress-icon-trash",title:localStorage.getItem("remove")}),editContentBtn:$("<div />",{"class":"motopress-edit-content-btn motopress-default motopress-icon-pencil",title:localStorage.getItem("edit")}),contentSelect:$("<select />",{"class":"motopress-content-select",id:"motopress-content-select",title:"Select content"}),contentOption:$("<option />"),tools:$("<div />",{"class":"motopress-tools motopress-default"}),toolsInner:$("<div />",{"class":"motopress-tools-inner motopress-default"}),dragLayoutWrapperHandle:$("<div />",{"class":"motopress-drag-layout-wrapper-handle icon-move",title:"Move wrapper"}),contentLayoutWrapperBtn:$("<div />",{"class":"motopress-content-layout-wrapper-btn icon-file",title:"Select content"}),layoutWrapperTools:$("<div />",{"class":"motopress-layout-wrapper-tools motopress-default"}),setup:function(){this.toolsInner.append(this.removeBlockBtn);this.tools.append(this.toolsInner)},init:function(){CE.Tools.myThis=this},makeRemovable:function(obj){},removeBlock:function(){CE.Selectable.setScrollY(window.scrollY);if(CE.Dialog.myThis.element.dialog("isOpen")){CE.Dialog.myThis.element.dialog("close")}parent.CE.Navbar.myThis.hideObjectControlBtns();var spanRemovable=$(".motopress-selected").closest('[class*="span"].motopress-span');var rowForSplitterCalc=spanRemovable.parents(".mp-row-fluid.motopress-row, .motopress-content-wrapper").eq(-2);var spanClassRemovable=parent.MP.Utils.getSpanClass(spanRemovable.prop("class").split(" "));var rowFrom=spanRemovable.parent(".mp-row-fluid.motopress-row");spanClassRemovable=CE.DragDrop.myThis.removeEmptyBlocks(spanRemovable,spanClassRemovable);spanRemovable.children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").children().tooltip("hide");spanRemovable.remove();var resObj=CE.DragDrop.myThis.clearIfEmpty(rowFrom,"remove");var isUnwrapped=false;if(resObj&&resObj.hasOwnProperty("row")){isUnwrapped=true;rowFrom=resObj.row}if(CE.DragDrop.myThis.isEmptyScene()){$(".motopress-handle-middle-in").remove();CE.DragDrop.myThis.emptySceneHelper.show()}if(!isUnwrapped){CE.DragDrop.myThis.resize(rowFrom,spanRemovable,"remove")}CE.DragDrop.myThis.resizer.updateBottomInHandleMiddle();CE.DragDrop.myThis.resizer.updateResizableOptions(null,rowFrom,null);CE.Resizer.myThis.updateSplittableOptions(null,rowFrom,null);CE.Resizer.myThis.updateSplitterHeight(rowForSplitterCalc,"remove");CE.Resizer.myThis.updateHandle()},makeHoverBlock:function(obj){obj.hover(function(){if(!$(".bootstrap-select.open").length){$(this).children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").css({zIndex:1003})}},function(){if(!$(this).children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").find(".bootstrap-select.open").length){$(this).children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").css({zIndex:1002})}})},makeHoverBlockTools:function(obj){obj.children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").children().hover(function(){$(this).css({color:"red"})},function(){$(this).css({color:"#333"})}).css("cursor","pointer")},makeTooltipBlockTools:function(obj){obj.children(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").children(".motopress-remove-block-btn, .motopress-edit-content-btn").tooltip({placement:"top",container:".motopress-helper-container"})},makeSelectpicker:function(select){select.selectpicker({size:10});select.next().find("button").on("click",function(){$(".motopress-helper").children(".motopress-tools").children(".motopress-tools-inner").css("z-index","1002");$(this).closest(".motopress-tools").children(".motopress-tools-inner").css("z-index","1003")})}})});